import{c as O,j as e,g as U,a as V,r as p,u as Y,G as _,H as le,s as k,b as D,d as E,J as ee,m as oe,K as ie,q as ce,t as I,e as J,N as K,O as de,P as ue,Q as pe,l as me,T as z,M as fe,D as T,I as he,z as xe,U as $,E as je,B as be}from"./index-C94LjWxh.js";import{G as i}from"./Grid-CadWwKob.js";import{T as b,S as Q}from"./TextField-Cgvji-af.js";import{V as ve}from"./Visibility-JReTSVyn.js";import{F as ge,I as Z,a as Ce}from"./InputLabel-Cnbk1tJc.js";import{S as we,F as W}from"./FormControlLabel-Dv_Ijfjm.js";import{M as S}from"./MenuItem-COOgUMYe.js";import{L as ye}from"./LoadingButton-Dsc-v8oU.js";import{S as Re}from"./Snackbar-C8MTT-3n.js";import{A as Pe}from"./Alert-ap9Sp5d-.js";const Se=O(e.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");function ke(o){return U("MuiFormGroup",o)}V("MuiFormGroup",["root","row","error"]);const Fe=o=>{const{classes:s,row:a,error:n}=o;return E({root:["root",a&&"row",n&&"error"]},ke,s)},Ie=k("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,a.row&&s.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),Me=p.forwardRef(function(s,a){const n=Y({props:s,name:"MuiFormGroup"}),{className:u,row:f=!1,...x}=n,r=_(),j=le({props:n,muiFormControl:r,states:["error"]}),l={...n,row:f,error:j.error},m=Fe(l);return e.jsx(Ie,{className:D(m.root,u),ownerState:l,ref:a,...x})}),Be=O(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Ge=O(e.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),ze=k("span",{shouldForwardProp:ee})({position:"relative",display:"flex"}),Te=k(Be)({transform:"scale(1)"}),$e=k(Ge)(oe(({theme:o})=>({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})}}]})));function se(o){const{checked:s=!1,classes:a={},fontSize:n}=o,u={...o,checked:s};return e.jsxs(ze,{className:a.root,ownerState:u,children:[e.jsx(Te,{fontSize:n,className:a.background,ownerState:u}),e.jsx($e,{fontSize:n,className:a.dot,ownerState:u})]})}const re=p.createContext(void 0);function We(){return p.useContext(re)}function Ne(o){return U("MuiRadio",o)}const X=V("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Oe=o=>{const{classes:s,color:a,size:n}=o,u={root:["root",`color${I(a)}`,n!=="medium"&&`size${I(n)}`]};return{...s,...E(u,Ne,s)}},Ue=k(we,{shouldForwardProp:o=>ee(o)||o==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(o,s)=>{const{ownerState:a}=o;return[s.root,a.size!=="medium"&&s[`size${I(a.size)}`],s[`color${I(a.color)}`]]}})(oe(({theme:o})=>({color:(o.vars||o).palette.text.secondary,[`&.${X.disabled}`]:{color:(o.vars||o).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:J(o.palette.action.active,o.palette.action.hoverOpacity)}}},...Object.entries(o.palette).filter(K()).map(([s])=>({props:{color:s,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette[s].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:J(o.palette[s].main,o.palette.action.hoverOpacity)}}})),...Object.entries(o.palette).filter(K()).map(([s])=>({props:{color:s,disabled:!1},style:{[`&.${X.checked}`]:{color:(o.vars||o).palette[s].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function Ve(o,s){return typeof s=="object"&&s!==null?o===s:String(o)===String(s)}const De=e.jsx(se,{checked:!0}),Ee=e.jsx(se,{}),N=p.forwardRef(function(s,a){const n=Y({props:s,name:"MuiRadio"}),{checked:u,checkedIcon:f=De,color:x="primary",icon:r=Ee,name:j,onChange:l,size:m="medium",className:c,disabled:y,disableRipple:C=!1,slots:v={},slotProps:w={},inputProps:g,...d}=n,t=_();let h=y;t&&typeof h>"u"&&(h=t.disabled),h??(h=!1);const R={...n,disabled:h,disableRipple:C,color:x,size:m},L=Oe(R),P=We();let M=u;const te=ie(l,P&&P.onChange);let B=j;P&&(typeof M>"u"&&(M=Ve(P.value,n.value)),typeof B>"u"&&(B=P.name));const G=w.input??g,[ae,ne]=ce("root",{ref:a,elementType:Ue,className:D(L.root,c),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:w,...d},getSlotProps:F=>({...F,onChange:(q,...A)=>{var H;(H=F.onChange)==null||H.call(F,q,...A),te(q,...A)}}),ownerState:R,additionalProps:{type:"radio",icon:p.cloneElement(r,{fontSize:r.props.fontSize??m}),checkedIcon:p.cloneElement(f,{fontSize:f.props.fontSize??m}),disabled:h,name:B,checked:M,slots:v,slotProps:{input:typeof G=="function"?G(R):G}}});return e.jsx(ae,{...ne,classes:L})});function Le(o){return U("MuiRadioGroup",o)}V("MuiRadioGroup",["root","row","error"]);const qe=o=>{const{classes:s,row:a,error:n}=o;return E({root:["root",a&&"row",n&&"error"]},Le,s)},Ae=p.forwardRef(function(s,a){const{actions:n,children:u,className:f,defaultValue:x,name:r,onChange:j,value:l,...m}=s,c=p.useRef(null),y=qe(s),[C,v]=de({controlled:l,default:x,name:"RadioGroup"});p.useImperativeHandle(n,()=>({focus:()=>{let t=c.current.querySelector("input:not(:disabled):checked");t||(t=c.current.querySelector("input:not(:disabled)")),t&&t.focus()}}),[]);const w=ue(a,c),g=pe(r),d=p.useMemo(()=>({name:g,onChange(t){v(t.target.value),j&&j(t,t.target.value)},value:C}),[g,j,v,C]);return e.jsx(re.Provider,{value:d,children:e.jsx(Me,{role:"radiogroup",ref:w,className:D(y.root,f),...m,children:u})})}),so=()=>{const o=me(),[s,a]=p.useState(!1),[n,u]=p.useState(!1),[f,x]=p.useState({open:!1,message:"",severity:"success"}),[r,j]=p.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",birthdate:"",gender:"",address:"",joinReason:"",role:"member",status:"active"}),[l,m]=p.useState({name:"",email:"",password:"",confirmPassword:"",phone:""}),c=d=>{const{name:t,value:h}=d.target;j({...r,[t]:h}),l[t]&&m({...l,[t]:""}),t==="password"&&r.confirmPassword&&(h!==r.confirmPassword?m({...l,confirmPassword:"비밀번호가 일치하지 않습니다."}):m({...l,confirmPassword:""})),t==="confirmPassword"&&(h!==r.password?m({...l,confirmPassword:"비밀번호가 일치하지 않습니다."}):m({...l,confirmPassword:""}))},y=()=>{u(!n)},C=()=>{let d=!0;const t={...l};r.name.trim()||(t.name="이름을 입력하세요.",d=!1);const h=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;r.email.trim()?h.test(r.email)||(t.email="유효한 이메일 형식이 아닙니다.",d=!1):(t.email="이메일을 입력하세요.",d=!1),r.password?r.password.length<8&&(t.password="비밀번호는 8자 이상이어야 합니다.",d=!1):(t.password="비밀번호를 입력하세요.",d=!1),r.password!==r.confirmPassword&&(t.confirmPassword="비밀번호가 일치하지 않습니다.",d=!1);const R=/^\d{3}-\d{3,4}-\d{4}$/;return r.phone&&!R.test(r.phone)&&(t.phone="전화번호 형식이 올바르지 않습니다. (예: 010-1234-5678)",d=!1),m(t),d},v=d=>{if(d.preventDefault(),!C()){x({open:!0,message:"입력 정보를 확인해주세요.",severity:"error"});return}a(!0),setTimeout(()=>{a(!1),x({open:!0,message:"회원이 성공적으로 등록되었습니다.",severity:"success"}),setTimeout(()=>{o("/members/list")},1500)},1e3)},w=()=>{o("/members/list")},g=()=>{x({...f,open:!1})};return e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,children:e.jsx(z,{variant:"h5",children:"회원 등록"})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(fe,{children:e.jsx("form",{onSubmit:v,children:e.jsxs(i,{container:!0,spacing:3,children:[e.jsxs(i,{item:!0,xs:12,children:[e.jsx(z,{variant:"h6",sx:{mb:2},children:"기본 정보"}),e.jsx(T,{sx:{mb:2}})]}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(b,{fullWidth:!0,label:"이름*",name:"name",value:r.name,onChange:c,error:!!l.name,helperText:l.name})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(b,{fullWidth:!0,label:"이메일*",name:"email",type:"email",value:r.email,onChange:c,error:!!l.email,helperText:l.email})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(b,{fullWidth:!0,label:"비밀번호*",name:"password",type:n?"text":"password",value:r.password,onChange:c,error:!!l.password,helperText:l.password||"8자 이상의 비밀번호를 입력하세요.",InputProps:{endAdornment:e.jsx(he,{position:"end",children:e.jsx(xe,{"aria-label":"비밀번호 보기 토글",onClick:y,edge:"end",children:n?e.jsx(Se,{}):e.jsx(ve,{})})})}})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(b,{fullWidth:!0,label:"비밀번호 확인*",name:"confirmPassword",type:n?"text":"password",value:r.confirmPassword,onChange:c,error:!!l.confirmPassword,helperText:l.confirmPassword})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(b,{fullWidth:!0,label:"전화번호",name:"phone",value:r.phone,onChange:c,placeholder:"010-1234-5678",error:!!l.phone,helperText:l.phone})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(b,{fullWidth:!0,label:"생년월일",name:"birthdate",type:"date",value:r.birthdate,onChange:c,InputLabelProps:{shrink:!0}})}),e.jsxs(i,{item:!0,xs:12,children:[e.jsx(z,{variant:"h6",sx:{mt:2,mb:2},children:"추가 정보"}),e.jsx(T,{sx:{mb:2}})]}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs($,{fullWidth:!0,children:[e.jsx(ge,{id:"gender-label",children:"성별"}),e.jsxs(Ae,{row:!0,"aria-labelledby":"gender-label",name:"gender",value:r.gender,onChange:c,children:[e.jsx(W,{value:"male",control:e.jsx(N,{}),label:"남성"}),e.jsx(W,{value:"female",control:e.jsx(N,{}),label:"여성"}),e.jsx(W,{value:"other",control:e.jsx(N,{}),label:"기타"})]})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs($,{fullWidth:!0,children:[e.jsx(Z,{id:"role-label",children:"회원 권한"}),e.jsxs(Q,{labelId:"role-label",name:"role",value:r.role,label:"회원 권한",onChange:c,children:[e.jsx(S,{value:"member",children:"일반 회원"}),e.jsx(S,{value:"admin",children:"관리자"})]}),e.jsx(Ce,{children:"일반 회원으로 설정하는 것을 권장합니다."})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsxs($,{fullWidth:!0,children:[e.jsx(Z,{id:"status-label",children:"회원 상태"}),e.jsxs(Q,{labelId:"status-label",name:"status",value:r.status,label:"회원 상태",onChange:c,children:[e.jsx(S,{value:"active",children:"활성"}),e.jsx(S,{value:"inactive",children:"비활성"}),e.jsx(S,{value:"pending",children:"승인 대기"})]})]})}),e.jsx(i,{item:!0,xs:12,md:6,children:e.jsx(b,{fullWidth:!0,label:"주소",name:"address",value:r.address,onChange:c})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(b,{fullWidth:!0,label:"가입 동기",name:"joinReason",value:r.joinReason,onChange:c,multiline:!0,rows:3,placeholder:"스터디 모임에 가입하게 된 동기나 목표를 작성해주세요."})}),e.jsxs(i,{item:!0,xs:12,children:[e.jsx(T,{sx:{mt:2,mb:2}}),e.jsxs(je,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[e.jsx(be,{variant:"outlined",onClick:w,children:"취소"}),e.jsx(ye,{type:"submit",variant:"contained",loading:s,children:"등록"})]})]})]})})})}),e.jsx(Re,{open:f.open,autoHideDuration:3e3,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsx(Pe,{onClose:g,severity:f.severity,sx:{width:"100%"},children:f.message})})]})};export{so as default};
